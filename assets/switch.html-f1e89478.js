import{_ as l,o as a,c as i,a as e}from"./app-d8328856.js";const t="/hcie-img/vlan/access-input.png",p={},c=e('<h2 id="网络设备演进" tabindex="-1"><a class="header-anchor" href="#网络设备演进" aria-hidden="true">#</a> 网络设备演进</h2><p>HUB：实际上是物理层介质（稍微高级点得介质，但是对于二层设备来说又很低级），只起到网络中继和信号放大得作用</p><p>傻瓜交换机：是一个低级得二层设备，不支持console配置</p><h2 id="vlan" tabindex="-1"><a class="header-anchor" href="#vlan" aria-hidden="true">#</a> VLAN</h2><p>交换机接口具备自动协商行为：</p><p>可以实现工作方式、端口速率得协商==向小兼容</p><blockquote><p>ARP表：20分钟老化</p></blockquote><ul><li>IP和MAC地址得对应关系</li><li>作用：用于通信设备进行数据封装</li><li>存在：任何要封装数据得设备</li></ul><blockquote><p>MAC地址表：5分钟老化</p></blockquote><ul><li>MAC地址和端口得对应关系</li><li>作用：用于交换机中转发数据的</li><li>存在交换机中</li></ul><p>如果交换机接口故障或者shutdown之后，mac地址表中接口相关所有mac地址记录都会消除</p><p>vlan id: 0-4096 可用（1-4095）</p><p>pvid: 接口默认缺省vlan号</p><h4 id="链路类型" tabindex="-1"><a class="header-anchor" href="#链路类型" aria-hidden="true">#</a> 链路类型</h4><p>华为设备：所有接口默认为hybrid，数据进入交换机都会打上vlanid</p><ul><li>1、access：接入类型- pc、服务器</li><li>2、trunk：干道类型- vlan允许通过的列表；通过的前提： 保证存在该vlan；同时允许多个不同vlan通过</li><li>3、hybrid：杂合类型/混杂/混合，接收方向，永远不会剥离vlan tag</li><li>4、qinq</li></ul><blockquote><p>access接口</p></blockquote><p>access接口接受报文处理方式：</p><p><img src="'+t+'" alt="access input"></p><blockquote><p>trunk接口</p></blockquote><blockquote><p>hybrid接口</p></blockquote><p>华为设备hybrid接口（默认untag 1）</p><ul><li>1、tag： 代表接口发出数据时，对于标签的处理动作（保留报文原有vlan id发送）</li><li>2、untag：带着该接口允许这个vlan通过（弹出报文原有vlan id发送）</li></ul><p>终端设备连接接口多是untag，否则终端无法发送数据包</p><h2 id="vlan间通信" tabindex="-1"><a class="header-anchor" href="#vlan间通信" aria-hidden="true">#</a> VLAN间通信</h2><ul><li>1、每个Vlan一个物理连接（通过加路由器【默认不做配置的情况下，不认识带tag的报文】，非单臂路由）</li><li>2、每个Vlan一个物理连接（通过加路由器，单臂路由，路由器接口比较少，比较昂贵【单臂路由可以减少接口使用的数量】）</li><li>3、VLANIF 三次交换</li></ul><blockquote><p>单臂路由</p></blockquote><p>路由器物理接口都是三层接口，无法配置二层vlan，不认识vlan tag 无法转发数据</p><p>路由器物理接口可以划分逻辑子接口</p><p>sub - 子接口（子接口可以划分4096个），华为子接口默认不发送arp广播，需要配置开启</p><ul><li>1、正常进行IP地址的配置</li><li>2、处理tag 兼备2层功能</li></ul><p>接收tag数据，剥离tag 发送数据，打上子接口tag</p><p>问题： 1、单点故障 2、浪费路由器性能</p><blockquote><p>VLANIF（交换机虚拟机接口SVI）</p></blockquote>',34),n=[c];function o(u,r){return a(),i("div",null,n)}const d=l(p,[["render",o],["__file","switch.html.vue"]]);export{d as default};
